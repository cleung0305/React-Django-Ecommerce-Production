(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,a,t){},133:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(28),l=t.n(c),o=t(8),i=t(54),s=t(84),u=t(83),m=t(2),d="PRODUCT_DETAIL_RESET",E="PRODUCT_CREATE_RESET",p="PRODUCT_UPDATE_RESET",f="PRODUCT_CREATE_REVIEW_RESET",g=t(20),v="USER_DETAILS_RESET",b="USER_UPDATE_PROFILE_RESET",y="USER_UPDATE_RESET",h="ORDER_CREATE_RESET",S="ORDER_CREATE_RESET_DEMO",_="ORDER_PAY_RESET",O="ORDER_DELIVER_RESET",C=Object(i.combineReducers)({userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:a.payload};case"USER_LOGOUT":return{};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:a.payload};case"USER_LOGOUT":return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DETAILS_REQUEST":return Object(m.a)({},e,{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:a.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:a.payload};case v:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:a.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:a.payload};case b:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:a.payload};case"USER_LIST_FAIL":return{loading:!1,error:a.payload};case"USER_LIST_RESET":return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0,message:a.payload};case"USER_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:a.payload};case y:return{user:{}};default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:a.payload.products,page:a.payload.page,pages:a.payload.pages};case"PRODUCT_LIST_FAIL":return{loading:!1,error:a.payload};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_DETAIL_REQUEST":return Object(m.a)({loading:!0},e);case"PRODUCT_DETAIL_SUCCESS":return{loading:!1,product:a.payload};case"PRODUCT_DETAIL_FAIL":return{loading:!1,error:a.payload};case d:return{product:{reviews:[]}};default:return e}},productTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_TOP_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_SUCCESS":return{loading:!1,success:!0,products:a.payload};case"PRODUCT_TOP_FAIL":return{loading:!1,error:a.payload};default:return e}},productListAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_LIST_ADMIN_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_ADMIN_SUCCESS":return{loading:!1,products:a.payload.products,page:a.payload.page,pages:a.payload.pages};case"PRODUCT_LIST_ADMIN_FAIL":return{loading:!1,error:a.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:a.payload};case"PRODUCT_CREATE_FAIL":return{loading:!1,error:a.payload};case E:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_UPDATE_FAIL":return{loading:!1,error:a.payload};case p:return{product:{}};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0,message:a.payload};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},reviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAIL":return{loading:!1,error:a.payload};case f:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},message:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CART_ADD_ITEM":var t=a.payload,n=e.cartItems.find(function(e){return e.productId===t.productId}),r=t.qty,c="";if(n){var l=r+n.qty>t.countInStock?t.countInStock:r+n.qty;return t.qty=l,c+=r+n.qty>t.countInStock&&t.countInStock-n.qty>=1?"Added ".concat(t.countInStock-n.qty," of '").concat(t.name,"' to cart, "):"",c+=r+n.qty>t.countInStock?"Sorry, we do not have enough item in stock to fulfill your demand. ":"Added ".concat(r," of '").concat(t.name,"' to cart"),Object(m.a)({},e,{cartItems:e.cartItems.map(function(e){return e.productId===n.productId?t:e}),message:c})}return c="Added ".concat(t.qty," of '").concat(t.name,"' to cart"),Object(m.a)({},e,{cartItems:[].concat(Object(g.a)(e.cartItems),[t]),message:c});case"CART_REMOVE_ITEM":var o=a.payload;return Object(m.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.productId!==o})});case"CART_UPDATE_ITEM":var i=a.payload,s=e.cartItems.find(function(e){return e.productId===i.productId});return s?Object(m.a)({},e,{cartItems:e.cartItems.map(function(e){return e.productId===s.productId?i:e}),message:""}):Object(m.a)({},e,{cartItems:Object(g.a)(e.cartItems),message:""});case"CART_VALIDATION_MESSAGE":return Object(m.a)({},e,{message:a.payload});case"CART_SAVE_SHIPPING_ADDRESS":return Object(m.a)({},e,{shippingAddress:a.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(m.a)({},e,{paymentMethod:a.payload});case"CART_CALCULATE_PRICE":var u=e.cartItems.reduce(function(e,a){return e+a.price*a.qty},0).toFixed(2),d=Number(u>=100?0:10).toFixed(2),E=Number(.082*u).toFixed(2),p=(Number(u)+Number(d)+Number(E)).toFixed(2);return Object(m.a)({},e,{subtotalPrice:u,shippingPrice:d,taxPrice:E,totalPrice:p});case"CART_CLEAR_ITEMS":return Object(m.a)({},e,{cartItems:[]});default:return Object(m.a)({},e)}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:a.payload};case"ORDER_CREATE_FAIL":return{loading:!1,error:a.payload};case h:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_DETAILS_REQUEST":return Object(m.a)({},e,{loading:!0});case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:a.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:a.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_PAY_REQUEST":return{loading:!0};case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case"ORDER_PAY_FAIL":return{loading:!1,error:a.payload};case _:return{};default:return e}},orderPayCancel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_PAY_CANCEL_REQUEST":return{loading:!0};case"ORDER_PAY_CANCEL_SUCCESS":return{loading:!1,success:!0,message:a.payload};case"ORDER_PAY_CANCEL_FAIL":return{loading:!1,error:a.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_DELIVER_REQUEST":return{loading:!0};case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELIVER_FAIL":return{loading:!1,error:a.payload};case O:return{};default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_LIST_MY_REQUEST":return{loading:!0};case"ORDER_LIST_MY_SUCCESS":return{loading:!1,orders:a.payload};case"ORDER_LIST_MY_FAIL":return{loading:!1,error:a.payload};case"ORDER_LIST_MY_RESET":return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_LIST_REQUEST":return{loading:!0};case"ORDER_LIST_SUCCESS":return{loading:!1,orders:a.payload};case"ORDER_LIST_FAIL":return{loading:!1,error:a.payload};default:return e}},orderCreateDemo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDER_CREATE_REQUEST_DEMO":return{loading:!0};case"ORDER_CREATE_SUCCESS_DEMO":return{loading:!1,success:!0,order:a.payload};case"ORDER_CREATE_FAIL_DEMO":return{loading:!1,error:a.payload};case S:return{};default:return e}}}),I=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],R=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,T={cart:{cartItems:I,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:R}},j=[s.a],L=Object(i.createStore)(C,T,Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,j))),A=(t(95),t(97),t(100),t(139)),k=t(10),N=t(7),D=t(148),U=t(153),P=t(140),w=t(147),x=t(15),F=t(5),M=t(149),G=t(107);var q=function(e){var a=e.route,t=void 0===a?"":a,c=Object(n.useState)(""),l=Object(F.a)(c,2),o=l[0],i=l[1],s=Object(N.w)(),u=Object(N.u)();return r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),s(o?"".concat(t,"/?keyword=").concat(o,"&page=1"):u.pathname)},className:"d-flex"},r.a.createElement(M.a.Control,{type:"text",name:"q",value:o,onChange:function(e){return i(e.target.value)},className:"mr-sm-2 ml-sm-5"}),r.a.createElement(G.a,{type:"submit",variant:"outline-secondary",className:"p-2"},"Search"))},Q=t(9),V=t.n(Q),z=t(11),Y=t(13),B=t.n(Y),J=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n){var r,c,l;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-type":"application/json"}},t.next=5,B.a.post("/api/users/login/",{username:e,password:a},r);case 5:c=t.sent,l=c.data,n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"USER_LOGIN_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},W=function(){return function(e){e({type:"USER_LOGOUT"}),e({type:"ORDER_LIST_MY_RESET"}),e({type:"USER_LIST_RESET"}),e({type:v}),localStorage.removeItem("userInfo")}},H=function(e,a,t){return function(){var n=Object(z.a)(V.a.mark(function n(r){var c,l,o;return V.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_REQUEST"}),c={headers:{"Content-type":"application/json"}},n.next=5,B.a.post("/api/users/register/",{name:e,email:a,password:t},c);case 5:l=n.sent,o=l.data,r({type:"USER_REGISTER_SUCCESS",payload:o}),r({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:"USER_REGISTER_FAIL",payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 15:case"end":return n.stop()}},n,null,[[0,12]])}));return function(e){return n.apply(this,arguments)}}()},$=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"USER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.get("/api/users/profile/".concat(e),l);case 6:o=a.sent,i=o.data,t({type:"USER_DETAILS_SUCCESS",payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"USER_DETAILS_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},K=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"USER_UPDATE_PROFILE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.put("api/users/profile/update/",e,l);case 6:o=a.sent,i=o.data,t({type:"USER_UPDATE_PROFILE_SUCCESS",payload:i}),t({type:"USER_LOGIN_SUCCESS",payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),t({type:"USER_UPDATE_PROFILE_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 16:case"end":return a.stop()}},a,null,[[0,13]])}));return function(e,t){return a.apply(this,arguments)}}()},X=function(){return function(){var e=Object(z.a)(V.a.mark(function e(a,t){var n,r,c,l,o;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_LIST_REQUEST"}),n=t(),r=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,B.a.get("/api/users/admin/all-users/",c);case 6:l=e.sent,o=l.data,a({type:"USER_LIST_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"USER_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(a,t){return e.apply(this,arguments)}}()},Z=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"USER_DELETE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.delete("/api/users/admin/delete-user/".concat(e),l);case 6:o=a.sent,i=o.data,t({type:"USER_DELETE_SUCCESS",payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"USER_DELETE_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},ee=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n,r){var c,l,o,i;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"USER_UPDATE_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,B.a.put("/api/users/admin/update-user/".concat(a,"/"),e,o);case 6:i=t.sent,i.data,n({type:"USER_UPDATE_SUCCESS"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"USER_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}()};var ae=function(){var e=Object(o.c)(function(e){return e.cart}).cartItems,a=Object(o.c)(function(e){return e.userLogin}).userInfo,t=Object(o.b)(),n=Object(N.w)();return r.a.createElement("header",null,r.a.createElement(D.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(A.a,null,r.a.createElement(x.LinkContainer,{to:"/"},r.a.createElement(D.a.Brand,null,"LokiTech")),r.a.createElement(D.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(q,{route:""}),r.a.createElement(U.a,{className:"ms-auto"},r.a.createElement(x.LinkContainer,{to:"/cart"},r.a.createElement(U.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart"})," Cart ",r.a.createElement(P.a,{bg:"success",pill:!0},e.length))),a?r.a.createElement(w.a,{title:a.name,id:"username",menuVariant:"dark"},r.a.createElement(x.LinkContainer,{to:"/profile"},r.a.createElement(w.a.Item,{className:"mt-1 p-2"},r.a.createElement("i",{className:"fas fa-user"})," Profile")),r.a.createElement(x.LinkContainer,{to:"/profile/orders"},r.a.createElement(w.a.Item,{className:"mt-1 p-2"},r.a.createElement("i",{className:"fa-solid fa-clipboard"})," Orders")),r.a.createElement(w.a.Divider,null),r.a.createElement(w.a.Item,{className:"mt-1 p-2",onClick:function(){t(W()),n("/logout?redirect=")}},r.a.createElement("i",{className:"fa-solid fa-right-from-bracket"})," Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.LinkContainer,{to:"/login"},r.a.createElement(U.a.Link,null,r.a.createElement("i",{className:"fa-solid fa-right-to-bracket"})," Login")),r.a.createElement(x.LinkContainer,{to:"/register"},r.a.createElement(U.a.Link,null,r.a.createElement("i",{className:"fa-solid fa-user-plus"})," Register"))),a&&a.isAdmin&&r.a.createElement(w.a,{title:"Admin",id:"adminmenu",menuVariant:"dark"},r.a.createElement(x.LinkContainer,{to:"/admin/all-users"},r.a.createElement(w.a.Item,{className:"mt-1 p-2"},r.a.createElement("i",{className:"fas fa-users"})," Users")),r.a.createElement(x.LinkContainer,{to:"/admin/all-products"},r.a.createElement(w.a.Item,{className:"mt-1 p-2"},r.a.createElement("i",{className:"fas fa-list-ul"})," Products")),r.a.createElement(x.LinkContainer,{to:"/admin/all-orders"},r.a.createElement(w.a.Item,{className:"mt-1 p-2"},r.a.createElement("i",{className:"fa-solid fa-clipboard"})," Orders"))))))))},te=t(141),ne=t(106);var re=function(){return r.a.createElement("footer",null,r.a.createElement(A.a,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{className:"text-center py-3 text-muted"},"Copyright \xa9 Lok"))))},ce=t(152);var le=function(e){var a=e.value,t=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},Object(g.a)(Array(5)).map(function(e,t){return r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:a>=t+1?"bi bi-star-fill":a>=t+.5?"bi bi-star-half":"bi bi-star"}))}),r.a.createElement("span",null,t&&t))};var oe=function(e){var a=e.product;return r.a.createElement(ce.a,{className:"my-3 p-3 rounded"},r.a.createElement(k.Link,{to:"/product/".concat(a._id)},r.a.createElement(ce.a.Img,{src:a.image})),r.a.createElement(ce.a.Body,null,r.a.createElement(k.Link,{to:"/product/".concat(a._id)},r.a.createElement(ce.a.Title,{as:"div"},r.a.createElement("strong",null,a.name))),r.a.createElement(ce.a.Text,{as:"div"},r.a.createElement("div",{className:"my-3"},r.a.createElement(le,{value:a.rating,text:"".concat(a.numReviews," reviews"),color:"#f1a545"}))),r.a.createElement(ce.a.Text,{as:"div"},r.a.createElement("h4",null,"$",a.price))))},ie=t(142);var se=function(){return r.a.createElement(ie.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},ue=t(143);var me=function(e){var a=e.variant,t=e.children,c=e.fade,l=void 0!==c&&c,o=Object(n.useState)(!0),i=Object(F.a)(o,2),s=i[0],u=i[1];return Object(n.useEffect)(function(){l&&setTimeout(function(){u(!1)},3e3)},[]),r.a.createElement(ue.a,{variant:a,className:s?"alert-shown":"alert-hidden"},t)},de=t(3),Ee=t.n(de),pe=(t(131),"..."),fe=function(e,a){var t=a-e+1;return Array.from({length:t},function(a,t){return t+e})},ge=function(e){var a=e.page,t=e.pages,r=e.pageSize,c=void 0===r?4:r,l=e.siblingCount,o=void 0===l?1:l;return Object(n.useMemo)(function(){if(t<=o+5)return fe(1,t);var e=Math.max(a-o,1),n=Math.min(a+o,t),r=e>2,c=n<t-2,l=1,i=t;if(!r&&c){var s=fe(l,3+2*o);return[].concat(Object(g.a)(s),[pe,t])}if(!c&&r){var u=fe(t-(3+2*o)+1,i);return[l,pe].concat(Object(g.a)(u))}if(r&&c){var m=fe(e,n);return[l,pe].concat(Object(g.a)(m),[pe,i])}},[c,o,a])};var ve=function(e){var a=e.page,t=e.pages,n=e.keyword,c=void 0===n?"":n,l=(e.siblingCount,e.isAdmin),o=void 0!==l&&l,i=ge({page:a,pages:t});return c&&(c=c.split("?keyword=")[1].split("&")[0]),i?r.a.createElement("ul",{className:Ee()("pagination-container pagination-bar")},r.a.createElement(x.LinkContainer,{key:"prev",to:o?"/admin/all-products/?keyword=".concat(c,"&page=").concat(a-1):"/?keyword=".concat(c,"&page=").concat(a-1)},r.a.createElement("li",{className:Ee()("pagination-item",{disabled:1===a})},r.a.createElement("i",{className:"fa-solid fa-chevron-left"}))),i.map(function(e){return e===pe?r.a.createElement("li",{className:"pagination-item dots"},"\u2026"):r.a.createElement(x.LinkContainer,{key:e,to:o?"/admin/all-products/?keyword=".concat(c,"&page=").concat(e):"/?keyword=".concat(c,"&page=").concat(e)},r.a.createElement("li",{className:Ee()("pagination-item",{selected:e===a})},e))}),r.a.createElement(x.LinkContainer,{key:"next",to:o?"/admin/all-products/?keyword=".concat(c,"&page=").concat(a+1):"/?keyword=".concat(c,"&page=").concat(a-1)},r.a.createElement("li",{className:Ee()("pagination-item",{disabled:a===t})},r.a.createElement("i",{className:"fa-solid fa-chevron-right"})))):r.a.createElement(se,null)},be=t(151),ye=t(144),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var a=Object(z.a)(V.a.mark(function a(t){var n,r;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"PRODUCT_LIST_REQUEST"}),a.next=4,B.a.get("/api/products".concat(e));case 4:n=a.sent,r=n.data,t({type:"PRODUCT_LIST_SUCCESS",payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"PRODUCT_LIST_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},Se=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t){var n,r;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"PRODUCT_DETAIL_REQUEST"}),a.next=4,B.a.get("/api/products/".concat(e));case 4:n=a.sent,r=n.data,t({type:"PRODUCT_DETAIL_SUCCESS",payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"PRODUCT_DETAIL_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(z.a)(V.a.mark(function e(a){var t,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PRODUCT_TOP_REQUEST"}),e.next=4,B.a.get("/api/products/top/");case 4:t=e.sent,n=t.data,a({type:"PRODUCT_TOP_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"PRODUCT_TOP_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(a){return e.apply(this,arguments)}}()},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"PRODUCT_LIST_ADMIN_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.get("/api/products/admin/all-products".concat(e),l);case 6:o=a.sent,i=o.data,t({type:"PRODUCT_LIST_ADMIN_SUCCESS",payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"PRODUCT_LIST_ADMIN_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(z.a)(V.a.mark(function e(a,t){var n,r,c,l,o;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PRODUCT_CREATE_REQUEST"}),n=t(),r=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,B.a.post("/api/products/admin/create/",{},c);case 6:l=e.sent,o=l.data,a({type:"PRODUCT_CREATE_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"PRODUCT_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(a,t){return e.apply(this,arguments)}}()},Ie=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n,r){var c,l,o,i;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PRODUCT_UPDATE_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,B.a.put("/api/products/admin/update-product/".concat(a,"/"),e,o);case 6:i=t.sent,i.data,n({type:"PRODUCT_UPDATE_SUCCESS"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"PRODUCT_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}()},Re=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"PRODUCT_DELETE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.delete("/api/products/admin/delete-product/".concat(e),l);case 6:o=a.sent,i=o.data,t({type:"PRODUCT_DELETE_SUCCESS",payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"PRODUCT_DELETE_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},Te=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n,r){var c,l,o,i;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,B.a.post("/api/products/".concat(e,"/review/"),a,o);case 6:i=t.sent,i.data,n({type:"PRODUCT_CREATE_REVIEW_SUCCESS"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"PRODUCT_CREATE_REVIEW_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}()};var je=function(){var e=Object(o.c)(function(e){return e.productTop}),a=e.error,t=e.loading,c=e.products,l=Object(o.b)();return Object(n.useEffect)(function(){l(_e())},[l]),t?r.a.createElement(se,null):a?r.a.createElement(me,{variant:"danger"},a):r.a.createElement(be.a,{pause:"hover",variant:"dark",className:"bg-dark"},c.map(function(e){return r.a.createElement(be.a.Item,{key:e._id},r.a.createElement(k.Link,{to:"/product/".concat(e._id)},r.a.createElement(ye.a,{src:e.image,alt:e.name,className:"d-block mx-auto carousel-image"}),r.a.createElement(be.a.Caption,{className:"mx-auto carousel-caption"},r.a.createElement("h6",null,e.name," - $",e.price))))}))};var Le=function(){var e=Object(o.b)(),a=Object(N.u)(),t=Object(o.c)(function(e){return e.productList}),c=t.error,l=t.loading,i=t.products,s=t.page,u=t.pages,m=a.search;return Object(n.useEffect)(function(){e(he(m))},[e,m]),r.a.createElement("div",null,!m&&r.a.createElement(je,null),r.a.createElement("h1",null,"Latest Products"),l?r.a.createElement(se,null):c?r.a.createElement(me,{variant:"danger"},c):r.a.createElement("div",null,r.a.createElement(te.a,null,i.map(function(e){return r.a.createElement(ne.a,{key:e._id,xs:"auto",sm:"auto",md:4,lg:4,xl:3},r.a.createElement(oe,{product:e}))})),r.a.createElement(ve,{page:s,pages:u,keyword:m})))},Ae=function(e,a){Object(n.useEffect)(function(){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.id=a,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}},[e])},ke=t(65),Ne=function(){var e=Object(z.a)(V.a.mark(function e(a){var t,n,r,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.data,n=a.access_token,r={Authorization:n,"Content-Type":"application/json"},e.next=4,B.a.post("/api/users/google/",t,{headers:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),De="37032365283-e3agg0j7q36uccje3v2dre8jhcktbjqi.apps.googleusercontent.com";window.handleGoogleLogin=function(){var e=Object(z.a)(V.a.mark(function e(a){var t,n,r,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.credential,n=Object(ke.a)(a.credential),r={email:n.email,first_name:n.given_name,last_name:n.family_name,aud:n.aud},e.next=5,Ne({data:r,access_token:t});case 5:c=e.sent,localStorage.setItem("userInfo",JSON.stringify(c)),window.location.reload();case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();var Ue=function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"g_id_onload","data-client_id":De,"data-login_uri":"","data-callback":"handleGoogleLogin","data-auto_prompt":"false"}),r.a.createElement("div",{class:"g_id_signin","data-type":"standard","data-size":"large","data-theme":"outline","data-text":"sign_in_with","data-shape":"rectangular","data-logo_alignment":"left"}))};var Pe=function(e){var a=e.md,t=e.children;return r.a.createElement(A.a,null,r.a.createElement(te.a,{className:"justify-content-md-center"},r.a.createElement(ne.a,{xs:12,md:a},t)))};var we=function(){var e=Object(n.useState)(""),a=Object(F.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),i=Object(F.a)(l,2),s=i[0],u=i[1],m=Object(o.b)(),d=Object(N.w)(),E=Object(N.u)(),p=E.search?E.search.split("=")[1]:"",f=Object(o.c)(function(e){return e.userLogin}),g=f.userInfo,v=f.loading,b=f.error,y=Object(n.useState)(!1),h=Object(F.a)(y,2),S=h[0],_=h[1];return Ae("https://accounts.google.com/gsi/client","google"),Object(n.useEffect)(function(){g&&d("/".concat(p)),window.google&&_(!0)},[d,g,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{md:6},r.a.createElement("h2",null,"Sign In"),b&&r.a.createElement(me,{variant:"danger",fade:!0},b),v&&r.a.createElement(se,null),r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),m(J(t,s))},controlId:"email"},r.a.createElement(M.a.Group,{className:"my-2"},r.a.createElement(M.a.Label,null,"Email address"),r.a.createElement(M.a.Control,{type:"email",placeholder:"Username / Email",value:t,onChange:function(e){return c(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlId:"password"},r.a.createElement(M.a.Label,null,"Password"),r.a.createElement(M.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){return u(e.target.value)},required:!0})),r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2"},"Sign In")),r.a.createElement(te.a,{className:"py-3"},r.a.createElement(ne.a,null,"Don't have an account? ",r.a.createElement(k.Link,{to:p?"/register?redirect=".concat(p):"/register"},"Register here"))),S?r.a.createElement(Ue,null):r.a.createElement(se,null)))};var xe=function(){var e=Object(o.c)(function(e){return e.userLogin}).userInfo,a=Object(N.u)(),t=Object(N.w)(),c=a.search?a.search.split("=")[1]:"";return Object(n.useEffect)(function(){var e=setTimeout(function(){t("/".concat(c))},1500);return function(){return clearTimeout(e)}},[]),r.a.createElement("div",null,e?r.a.createElement("h3",null,"You are not logged out properly"):r.a.createElement("h3",null,"You are now logged out, redirecting to the home page..."))},Fe="37032365283-e3agg0j7q36uccje3v2dre8jhcktbjqi.apps.googleusercontent.com";window.handleGoogleLogin=function(){var e=Object(z.a)(V.a.mark(function e(a){var t,n,r,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.credential,n=Object(ke.a)(a.credential),r={email:n.email,first_name:n.given_name,last_name:n.family_name,aud:n.aud},e.next=5,Ne({data:r,access_token:t});case 5:c=e.sent,localStorage.setItem("userInfo",JSON.stringify(c)),window.location.reload();case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();var Me=function(){var e=Object(n.useState)(""),a=Object(F.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),i=Object(F.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(""),d=Object(F.a)(m,2),E=d[0],p=d[1],f=Object(n.useState)(""),g=Object(F.a)(f,2),v=g[0],b=g[1],y=Object(n.useState)(""),h=Object(F.a)(y,2),S=h[0],_=h[1],O=Object(N.w)(),C=Object(N.u)(),I=C.search?C.search.split("=")[1]:"",R=Object(o.b)(),T=Object(o.c)(function(e){return e.userRegister}),j=T.userInfo,L=T.loading,A=T.error,D=Object(o.c)(function(e){return e.userLogin}).userInfo,U=Object(n.useState)(!1),P=Object(F.a)(U,2),w=P[0],x=P[1];return Ae("https://accounts.google.com/gsi/client","google"),Object(n.useEffect)(function(){(j||D)&&O("/".concat(I)),window.google&&x(!0)},[O,j,I]),r.a.createElement(Pe,{md:6},r.a.createElement("h2",null,"Register"),S&&r.a.createElement(me,{variant:"danger",fade:!0},S),A&&r.a.createElement(me,{variant:"danger",fade:!0},A),L&&r.a.createElement(se,null),r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),E!==v?_("Password does not match"):R(H(t,s,E))}},r.a.createElement(M.a.Group,{className:"my-2",controlid:"password"},r.a.createElement(M.a.Label,null,"Name"),r.a.createElement(M.a.Control,{type:"name",placeholder:"Name",value:t,onChange:function(e){return c(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"password"},r.a.createElement(M.a.Label,null,"Email address"),r.a.createElement(M.a.Control,{type:"email",placeholder:"Username / Email",value:s,onChange:function(e){return u(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"password"},r.a.createElement(M.a.Label,null,"Password"),r.a.createElement(M.a.Control,{type:"password",placeholder:"Password",value:E,onChange:function(e){return p(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"passwordConfirm"},r.a.createElement(M.a.Label,null,"Confirm Password"),r.a.createElement(M.a.Control,{type:"password",placeholder:"Confirm Password",value:v,onChange:function(e){return b(e.target.value)},required:!0})),r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2"},"Register")),r.a.createElement(te.a,{className:"py-3"},r.a.createElement(ne.a,null,"Already have an account? ",r.a.createElement(k.Link,{to:I?"/login?redirect=".concat(I):"/login"},"Log in here"))),w?r.a.createElement("div",null,r.a.createElement("div",{id:"g_id_onload","data-client_id":Fe,"data-login_uri":"","data-callback":"handleGoogleLogin","data-auto_prompt":"false"}),r.a.createElement("div",{class:"g_id_signin","data-type":"standard","data-size":"large","data-theme":"outline","data-text":"sign_in_with","data-shape":"rectangular","data-logo_alignment":"left"})):r.a.createElement(se,null))};var Ge=function(){return r.a.createElement("div",null,r.a.createElement(D.a,{bg:"light",variant:"light",expand:"lg"},r.a.createElement(A.a,null,r.a.createElement(D.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(U.a,{className:"me-auto"},r.a.createElement(x.LinkContainer,{to:"/profile"},r.a.createElement(U.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," User Profile")),r.a.createElement(x.LinkContainer,{to:"/profile/orders"},r.a.createElement(U.a.Link,null,r.a.createElement("i",{className:"fa-solid fa-clipboard"})," Orders")))))))};var qe=function(){var e=Object(n.useState)(""),a=Object(F.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),i=Object(F.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(""),d=Object(F.a)(m,2),E=d[0],p=d[1],f=Object(n.useState)(""),g=Object(F.a)(f,2),v=g[0],y=g[1],h=Object(n.useState)(""),S=Object(F.a)(h,2),_=S[0],O=S[1],C=Object(n.useState)(""),I=Object(F.a)(C,2),R=I[0],T=I[1],j=Object(N.w)(),L=Object(o.b)(),k=Object(o.c)(function(e){return e.userDetails}),D=k.user,U=k.loading,P=k.error,w=Object(o.c)(function(e){return e.userLogin}).userInfo,x=Object(o.c)(function(e){return e.userUpdateProfile}).success;return Object(n.useEffect)(function(){w?D&&D.name&&D._id===w._id&&!x?(c(D.name),u(D.email)):(x&&T("Your profile has been updated"),L({type:b}),L($(w._id))):j("/login?redirect=profile")},[L,w,D,j,x]),r.a.createElement("div",null,r.a.createElement(Ge,null),r.a.createElement(A.a,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:6},r.a.createElement("h2",null,"Your Information"),R&&r.a.createElement(me,{variant:"success"},R),_&&r.a.createElement(me,{variant:"danger"},_),P&&r.a.createElement(me,{variant:"danger"},P),U&&r.a.createElement(se,null),r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),E!==v?O("Password does not match"):(L(K({name:t,email:s,password:E})),O(""))}},r.a.createElement(M.a.Group,{className:"my-2",controlId:"email"},r.a.createElement(M.a.Label,null,"Username / Email"),r.a.createElement(M.a.Control,{type:"email",value:s,plaintext:!0,readOnly:!0,required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlId:"name"},r.a.createElement(M.a.Label,null,"Name"),r.a.createElement(M.a.Control,{type:"name",placeholder:"Name",value:t,onChange:function(e){return c(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlId:"password"},r.a.createElement(M.a.Label,null,"Password"),r.a.createElement(M.a.Control,{type:"password",placeholder:"Password",value:E,onChange:function(e){return p(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlId:"passwordConfirm"},r.a.createElement(M.a.Label,null,"Confirm Password"),r.a.createElement(M.a.Control,{type:"password",placeholder:"Confirm Password",value:v,onChange:function(e){return y(e.target.value)}})),r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2"},"Update"))))))},Qe=t(145),Ve=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"ORDER_CREATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.post("api/orders/add/",e,l);case 6:o=a.sent,i=o.data,t({type:"ORDER_CREATE_SUCCESS",payload:i}),localStorage.setItem("currentOrder",JSON.stringify(i)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),t({type:"ORDER_CREATE_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 15:case"end":return a.stop()}},a,null,[[0,12]])}));return function(e,t){return a.apply(this,arguments)}}()},ze=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"ORDER_CREATE_REQUEST_DEMO"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.post("api/orders/add/",e,l);case 6:o=a.sent,i=o.data,t({type:"ORDER_CREATE_SUCCESS_DEMO",payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"ORDER_CREATE_FAIL_DEMO",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},Ye=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i,s;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"ORDER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,l=c?"Bearer ".concat(c.token):"",o={headers:{"Content-Type":"application/json",Authorization:l}},a.next=7,B.a.get("/api/orders/".concat(e),o);case 7:i=a.sent,s=i.data,t({type:"ORDER_DETAILS_SUCCESS",payload:s}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),t({type:"ORDER_DETAILS_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 15:case"end":return a.stop()}},a,null,[[0,12]])}));return function(e,t){return a.apply(this,arguments)}}()},Be=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n,r){var c,l,o,i,s;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"ORDER_PAY_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,B.a.put("/api/orders/".concat(e,"/pay/"),a,o);case 6:i=t.sent,s=i.data,n({type:"ORDER_PAY_SUCCESS"}),n({type:"CART_CLEAR_ITEMS",payload:s}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:"ORDER_PAY_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e,a){return t.apply(this,arguments)}}()},Je=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"ORDER_PAY_CANCEL_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.delete("/api/orders/cancel-order/".concat(e),l);case 6:o=a.sent,i=o.data,t({type:"ORDER_PAY_CANCEL_SUCCESS",payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"ORDER_PAY_CANCEL_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},We=function(e){return function(){var a=Object(z.a)(V.a.mark(function a(t,n){var r,c,l,o;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"ORDER_DELIVER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,B.a.put("/api/orders/".concat(e,"/deliver/"),{},l);case 6:o=a.sent,o.data,t({type:"ORDER_DELIVER_SUCCESS"}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"ORDER_DELIVER_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},He=function(){return function(){var e=Object(z.a)(V.a.mark(function e(a,t){var n,r,c,l,o;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"ORDER_LIST_MY_REQUEST"}),n=t(),r=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,B.a.get("/api/orders/myorders",c);case 6:l=e.sent,o=l.data,a({type:"ORDER_LIST_MY_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"ORDER_LIST_MY_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(a,t){return e.apply(this,arguments)}}()},$e=function(){return function(){var e=Object(z.a)(V.a.mark(function e(a,t){var n,r,c,l,o;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"ORDER_LIST_REQUEST"}),n=t(),r=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,B.a.get("/api/orders/admin/all-orders",c);case 6:l=e.sent,o=l.data,a({type:"ORDER_LIST_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"ORDER_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(a,t){return e.apply(this,arguments)}}()};var Ke=function(){var e=Object(o.c)(function(e){return e.myOrders}),a=e.orders,t=e.loading,c=e.error,l=Object(o.c)(function(e){return e.userLogin}).userInfo,i=Object(o.b)(),s=Object(N.w)();return Object(n.useEffect)(function(){l?i(He()):s("/login?redirect=profile/orders")},[]),r.a.createElement("div",null,r.a.createElement(Ge,null),r.a.createElement(A.a,null,r.a.createElement("h2",null,"Past Orders"),c&&r.a.createElement(me,{variant:"danger"},c),t&&r.a.createElement(se,null),a&&r.a.createElement(Qe.a,{striped:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Order#"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Paid"),r.a.createElement("th",null,"Delivered"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,String(e._id).padStart(5,"0")),r.a.createElement("td",null,e.created_date.substr(0,10)),r.a.createElement("td",null,"$",e.total_price),r.a.createElement("td",null,e.isPaid?e.paid_date.substr(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliverd_date:"In progress"),r.a.createElement("td",null,r.a.createElement(x.LinkContainer,{to:"/orders/".concat(e._id)},r.a.createElement(G.a,{className:"btn-sm"},"Details"))))})))))},Xe=t(154),Ze=t(85),ea=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n,r){var c,l;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.get("/api/products/".concat(e));case 2:c=t.sent,l=c.data,n({type:"CART_ADD_ITEM",payload:{productId:l._id,name:l.name,image:l.image,price:l.price,countInStock:l.countInStock,qty:Number(a)}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},aa=function(e){return function(a,t){a({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(t().cart.cartItems))}},ta=function(e,a){return function(){var t=Object(z.a)(V.a.mark(function t(n,r){var c,l,o;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.get("/api/products/".concat(e));case 2:c=t.sent,l=c.data,o=0===l.countInStock?0:l.countInStock<Number(a)?l.countInStock:Number(a),n({type:"CART_UPDATE_ITEM",payload:{productId:l._id,name:l.name,image:l.image,price:l.price,countInStock:l.countInStock,qty:o}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},na=function(e){return function(a,t){a({type:"CART_VALIDATION_MESSAGE",payload:e}),localStorage.setItem("cartItems",JSON.stringify(t().cart.cartItems))}},ra=function(e){return function(a){a({type:"CART_SAVE_SHIPPING_ADDRESS",payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(e))}},ca=function(e){return function(a){a({type:"CART_SAVE_PAYMENT_METHOD",payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e))}},la=function(){return function(e){e({type:"CART_CALCULATE_PRICE"})}};var oa=function(){var e=Object(N.A)().id,a=Object(n.useState)(1),t=Object(F.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(0),s=Object(F.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),E=Object(F.a)(d,2),p=E[0],v=E[1],b=Object(o.b)(),y=Object(o.c)(function(e){return e.productDetail}),h=y.error,S=y.loading,_=y.product,O=Object(o.c)(function(e){return e.userLogin}).userInfo,C=Object(o.c)(function(e){return e.reviewCreate}),I=C.loading,R=C.success,T=C.error,j=Object(o.c)(function(e){return e.cart}).message;return Object(n.useEffect)(function(){b({type:f}),R&&(m(0),v(""),b({type:f})),b(Se(e))},[b,e,R]),r.a.createElement("div",null,r.a.createElement("section",{id:"bc",className:"my-3"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(k.Link,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},_.name))))),j&&r.a.createElement(me,{variant:"primary"},j),S?r.a.createElement(se,null):h?r.a.createElement(me,{variant:"danger"},h):r.a.createElement("div",null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:4},r.a.createElement(ye.a,{src:_.image,alt:_.name,fluid:!0})),r.a.createElement(ne.a,{md:5},r.a.createElement(Xe.a,{variant:"flush"},r.a.createElement(Xe.a.Item,null,r.a.createElement("h3",null,_.name),r.a.createElement("div",{className:"right-rating"},r.a.createElement(le,{value:_.rating,text:"".concat(_.numReviews," reviews"),color:"#f1a545"}))),r.a.createElement(Xe.a.Item,null,r.a.createElement("h3",null,"$",_.price)),r.a.createElement(Xe.a.Item,null,r.a.createElement("h5",{className:"text-secondary"},"Description"),_.description))),r.a.createElement(ne.a,{md:3},r.a.createElement(ce.a,null,r.a.createElement(Xe.a,{variant:"flush"},r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,null,"Price:"),r.a.createElement(ne.a,null,r.a.createElement("strong",null,"$",_.price)))),r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,null,"Status:"),r.a.createElement(ne.a,null,r.a.createElement("strong",null,_.countInStock>=6?"In Stock":_.countInStock>0?"Only A Few Left":"Sold Out")))),_.countInStock>0&&r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,null,"Qty"),r.a.createElement(ne.a,{xs:"auto",className:"my-1"},r.a.createElement(M.a.Control,{as:"select",value:c,onChange:function(e){return l(e.target.value)}},Object(g.a)(Array(_.countInStock).keys()).map(function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)}))))),r.a.createElement(Xe.a.Item,null,r.a.createElement("div",{className:"d-grid gap-2 my-1"},_.countInStock>0?r.a.createElement(G.a,{variant:"primary",type:"button",size:"lg",onClick:function(){return e=_._id,void b(ea(e,c));var e}},"Add To Cart"):r.a.createElement(G.a,{variant:"secondary",type:"button",size:"lg",disabled:!0},"Out Of Stock"))))))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:6},r.a.createElement("h4",null,"Reviews"),0===_.reviews.length&&r.a.createElement(Xe.a,null,r.a.createElement(Xe.a.Item,null,r.a.createElement("p",{className:"text-muted"},"No reviews"))),r.a.createElement(Xe.a,{variant:"flush"},_.reviews.map(function(e){return r.a.createElement(Xe.a.Item,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(le,{value:e.rating,text:" ".concat(e.created_at.substr(0,10)),color:"#f1a545"}),r.a.createElement("p",null,e.comment))}),r.a.createElement(Xe.a.Item,null,r.a.createElement("h5",null,"Write a review"),I&&r.a.createElement(se,null),R&&r.a.createElement(me,{variant:"info"},"Review posted"),T&&r.a.createElement(me,{variant:"warning"},T),r.a.createElement(M.a,{onSubmit:function(a){a.preventDefault(),b(Te(e,{rating:u/20,comment:p}))}},O?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a.Group,{controlId:"rating"},r.a.createElement(Ze.Rating,{onClick:function(e){return m(e)},ratingValue:u,size:20,fillColor:"#f1a545",emptyColor:"#cccccc",allowHalfIcon:!0,showTooltip:!0,tooltipArray:["Poor","Poor","Fair","Fair","Good","Good","Very Good","Very Good","Excellent","Excellent"],disabled:I})),r.a.createElement(M.a.Group,{controlId:"comment"},r.a.createElement(M.a.Label,null,"Review"),r.a.createElement(M.a.Control,{disabled:I,as:"textarea",row:"5",placeholder:"Share your thoughts on this product",value:p,onChange:function(e){return v(e.target.value)}})),r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2",disabled:I},"Post review")):r.a.createElement("p",{className:"p-2"},"Please ",r.a.createElement(k.Link,{to:"/login?redirect=product/".concat(e)},"login")," to write a review"))))),r.a.createElement(ne.a,null))))};var ia=function(){var e=Object(o.c)(function(e){return e.userLogin}).userInfo,a=Object(o.c)(function(e){return e.productListAdmin}),t=a.products,c=a.loading,l=a.error,i=a.pages,s=a.page,u=Object(o.c)(function(e){return e.productCreate}),m=u.product,d=u.success,p=u.loading,f=u.error,g=Object(o.c)(function(e){return e.productDelete}),v=g.success,b=g.loading,y=g.error,h=g.message,S=Object(o.b)(),_=Object(N.w)(),O=Object(N.u)().search;return Object(n.useEffect)(function(){S({type:E}),e?(e.isAdmin||_("/"),d?_("/admin/product/".concat(m._id,"/edit")):S(Oe(O))):_("/login?redirect=admin/all-products")},[S,_,e,v,d,m,O]),r.a.createElement("div",null,r.a.createElement(te.a,null,r.a.createElement(ne.a,null,r.a.createElement("h2",null,"Products")),r.a.createElement(ne.a,{className:"d-flex my-3"},p?r.a.createElement(se,null):r.a.createElement(G.a,{className:"ms-auto",onClick:function(){S(Ce())}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),r.a.createElement("div",{className:"col-md-3 mb-3"},r.a.createElement(q,{route:"/admin/all-products"})),l&&r.a.createElement(me,{variant:"danger"},l),b&&r.a.createElement(se,null),y&&r.a.createElement(me,{variant:"danger",fade:!0},y),h&&r.a.createElement(me,{variant:"primary",fade:!0},h),f&&r.a.createElement(me,{variant:"danger",fade:!0},f),c&&r.a.createElement(se,null),t&&r.a.createElement("div",null,r.a.createElement(Qe.a,{striped:!0,responsive:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Brand"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Is published"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,String(e._id).padStart(5,"0")),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.rating),r.a.createElement("td",null,e.isPublished?"Yes":"No"),r.a.createElement("td",null,r.a.createElement(x.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},r.a.createElement(G.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"})))),r.a.createElement("td",null,r.a.createElement(G.a,{variant:"danger",className:"btn-sm",onClick:function(){return a=e._id,t=e.name,void(window.confirm("Deleting product: ".concat(t))&&S(Re(a)));var a,t}},r.a.createElement("i",{className:"fas fa-trash"}))))}))),r.a.createElement(ve,{page:s,pages:i,isAdmin:!0})))};var sa=function(){var e=Object(N.A)().id,a=Object(n.useState)(""),t=Object(F.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],m=s[1],E=Object(n.useState)(""),f=Object(F.a)(E,2),g=f[0],v=f[1],b=Object(n.useState)(""),y=Object(F.a)(b,2),h=y[0],S=y[1],_=Object(n.useState)(""),O=Object(F.a)(_,2),C=O[0],I=O[1],R=Object(n.useState)(0),T=Object(F.a)(R,2),j=T[0],L=T[1],A=Object(n.useState)(0),D=Object(F.a)(A,2),U=D[0],P=D[1],w=Object(n.useState)(!1),x=Object(F.a)(w,2),q=x[0],Q=x[1],Y=Object(n.useState)(!1),J=Object(F.a)(Y,2),W=J[0],H=J[1],$=Object(o.b)(),K=Object(N.w)(),X=Object(o.c)(function(e){return e.userLogin}).userInfo,Z=Object(o.c)(function(e){return e.productDetail}),ee=Z.product,ae=Z.loading,te=Z.error,ne=Object(o.c)(function(e){return e.productUpdate}),re=ne.loading,ce=ne.error,le=ne.success;Object(n.useEffect)(function(){X?(X.isAdmin||K("/"),le?($({type:p}),$({type:d}),K("/admin/all-products")):ee&&ee._id===Number(e)?(l(ee.name),m(ee.image),v(ee.brand),S(ee.category),I(ee.description),L(ee.price),P(ee.countInStock),Q(ee.isPublished)):$(Se(e))):K("/login?redirect=admin/all-users")},[ee,e,le]);var oe=function(){var a=Object(z.a)(V.a.mark(function a(t){var n,r,c,l,o;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.target.files[0],(r=new FormData).append("image",n),r.append("productId",e),H(!0),a.prev=5,c={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(X.token)}},a.next=9,B.a.post("/api/products/admin/upload/",r,c);case 9:l=a.sent,o=l.data,m(o),H(!1),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),H(!1);case 18:case"end":return a.stop()}},a,null,[[5,15]])}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("section",{id:"bc",className:"my-3"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(k.Link,{to:"/admin/all-products"},"Go back")),r.a.createElement("li",{className:"breadcrumb-item active"},e," - ",ee.name))))),r.a.createElement(Pe,{md:6},r.a.createElement("h2",null,"Edit Product"),ae&&r.a.createElement(se,null),ce&&r.a.createElement(me,{variant:"danger",fade:!0},ce),te?r.a.createElement(me,{variant:"danger"},te):r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),$(Ie({name:c,brand:g,category:h,description:C,price:j,countInStock:U,isPublished:q},ee._id))}},r.a.createElement(M.a.Group,{className:"my-2",controlid:"name"},r.a.createElement(M.a.Label,null,"Name"),r.a.createElement(M.a.Control,{type:"name",placeholder:"Name",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"image"},r.a.createElement(M.a.Label,null,"Image"),r.a.createElement(M.a.Control,{type:"text",placeholder:"Image",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement(M.a.Control,{type:"file",id:"image-file",label:"Choose File",custom:!0,onChange:oe}),W&&r.a.createElement(se,null)),r.a.createElement(M.a.Group,{className:"my-2",controlid:"brand"},r.a.createElement(M.a.Label,null,"Brand"),r.a.createElement(M.a.Control,{type:"text",value:g,onChange:function(e){return v(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"category"},r.a.createElement(M.a.Label,null,"Category"),r.a.createElement(M.a.Control,{type:"text",value:h,onChange:function(e){return S(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"description"},r.a.createElement(M.a.Label,null,"Desription"),r.a.createElement(M.a.Control,{as:"textarea",value:C,rows:6,size:"sm",onChange:function(e){return I(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"price"},r.a.createElement(M.a.Label,null,"Price"),r.a.createElement(M.a.Control,{type:"number",value:j,onChange:function(e){return L(Number(e.target.value))}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"countInStock"},r.a.createElement(M.a.Label,null,"Count In Stock"),r.a.createElement(M.a.Control,{type:"number",value:U,onChange:function(e){return P(Number(e.target.value))}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"isPublished"},r.a.createElement(M.a.Check,{type:"checkbox",label:"Published",checked:q,onChange:function(e){return Q(e.target.checked)}})),re||W?r.a.createElement(se,null):r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2"},"Update"))))},ua=t(150);var ma=function(e){var a=e.items,t=e.subtotalPrice,n=e.shippingPrice,c=e.taxPrice,l=(e.totalPrice,t?Number(t):Number(a.reduce(function(e,a){return e+Number(a.qty)*a.price},0).toFixed(2))),o=n?Number(n):0,i=c?Number(c):0,s=(Number(l)+Number(o)+Number(i)).toFixed(2);return r.a.createElement("div",null,r.a.createElement(Xe.a,{variant:"flush"},r.a.createElement(Xe.a.Item,null," ",r.a.createElement("h4",null,"Order Summary")),r.a.createElement(ua.a,{defaultActiveKey:"0",flush:!0},r.a.createElement(ua.a.Item,null,r.a.createElement(ua.a.Header,{eventkey:"0"},"Cart"),r.a.createElement(ua.a.Body,{eventkey:"0"},r.a.createElement(r.a.Fragment,null,a.map(function(e){return r.a.createElement("div",{key:"summary-".concat(e.productId)},r.a.createElement(te.a,{className:"mb-2"},r.a.createElement(ne.a,{md:8,style:{fontSize:"11px"}}," ",e.qty," \xd7 ",e.name),r.a.createElement(ne.a,{md:4,sm:"auto",style:{fontSize:"11px"},className:"d-flex"},r.a.createElement("p",{className:"ms-auto"},"$",(e.price*e.qty).toFixed(2)))))}))))),r.a.createElement(Xe.a.Item,{className:"m-0 p-0"}),r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8},"Subtotal"),r.a.createElement(ne.a,{md:4,sm:"auto",className:"d-flex"},r.a.createElement("p",{className:"ms-auto"},"$",l)))),r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8},"Shipping"),r.a.createElement(ne.a,{md:4,sm:"auto",className:"d-flex"},r.a.createElement("p",{className:"ms-auto"},"$",o.toFixed(2))))),r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:6},"Tax"),r.a.createElement(ne.a,{md:6,sm:"auto",className:"d-flex"},r.a.createElement("p",{className:c?"ms-auto":"text-muted ms-auto"},i?"$".concat(i.toFixed(2)):"Calculated in checkout")))),r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8},"Estimated Total"),r.a.createElement(ne.a,{md:4,sm:"auto",className:"d-flex"},r.a.createElement("p",{className:"ms-auto"},"$",s))))))};var da=function(){var e=Object(N.w)(),a=Object(o.b)(),t=Object(o.c)(function(e){return e.cart}),c=t.cartItems,l=t.message,i=Object(o.c)(function(e){return e.userLogin}).userInfo;Object(n.useEffect)(function(){c.map(function(e){a(ta(e.productId,e.qty))})},[]);var s=function(t){c.map(function(e){a(ta(e.productId,e.qty)),0===e.qty&&(l||a(na("Items with zero quantity have been removed from your cart")),a(aa(e.productId)))}),"member"===t&&e("/login?redirect=shipping"),"guest"===t&&e("/shipping")};return r.a.createElement("div",null,l&&r.a.createElement(me,{variant:"primary"},l),r.a.createElement(te.a,null,r.a.createElement("h2",null,"Shopping Cart"),r.a.createElement(ne.a,{md:8},0===c.length?r.a.createElement(me,{variant:"info"},"Your cart is empty, ",r.a.createElement(k.Link,{to:"/"},"Contiune Shopping")):r.a.createElement(Xe.a,{variant:"flush"},c.map(function(e){return r.a.createElement(Xe.a.Item,{key:e.productId},r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:3},r.a.createElement(k.Link,{to:"/product/".concat(e.productId)},r.a.createElement(ye.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0}))),r.a.createElement(ne.a,{md:9},r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8,sm:12},r.a.createElement(k.Link,{to:"/product/".concat(e.productId)},e.name)),r.a.createElement(ne.a,{md:4,sm:12,className:"d-flex"},r.a.createElement("p",{className:"ms-auto"},"$",(e.price*e.qty).toFixed(2)))),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8,sm:12},e.countInStock>0?r.a.createElement("p",{className:"text-primary"},"In Stock"):r.a.createElement("p",{className:"text-muted"},"Out of Stock")),r.a.createElement(ne.a,{md:4,sm:12},e.countInStock>0?r.a.createElement(M.a.Select,{"aria-label":"Select Quantity",as:"select",className:"py-0",value:e.qty,onChange:function(t){return a(ta(e.productId,t.target.value))}},r.a.createElement("option",{key:0,value:0},"0"),Object(g.a)(Array(e.countInStock).keys()).map(function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})):r.a.createElement(M.a.Select,{"aria-label":"Select Quantity",as:"select",className:"py-0",value:0,disabled:!0},r.a.createElement("option",{key:0,value:0},"0")))),r.a.createElement(te.a,null,r.a.createElement(ne.a,{className:"d-flex"},r.a.createElement(G.a,{size:"sm",type:"button",variant:"light",className:"ms-auto mt-2",onClick:function(){return t=e.productId,void a(aa(t));var t}},"Remove"))))))}),r.a.createElement(Xe.a.Item,{className:"ms-auto"},i?r.a.createElement(G.a,{type:"button",size:"md",className:"my-2",disabled:0===c.length,onClick:function(){return s("member")}},"Checkout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{type:"button",size:"md",className:"m-2",disabled:0===c.length,onClick:function(){return s("member")}},"Member Checkout"))))),r.a.createElement(ne.a,{md:4},r.a.createElement(ma,{items:c}))))},Ea=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}];var pa=function(e){var a=e.step1,t=e.step2,n=e.step3,c=Object(N.u)().pathname;return r.a.createElement(U.a,{className:"justify-content-between mb-3"},r.a.createElement(U.a.Item,null,r.a.createElement(x.LinkContainer,{to:t||n?t&&!n?"/shipping":"/payment":"/cart"},r.a.createElement(U.a.Link,{className:"checkout-link-active"},r.a.createElement("i",{className:"fa-solid fa-angle-left"})," Go Back"))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(U.a.Item,null,a?r.a.createElement(x.LinkContainer,{to:"/shipping",className:"/shipping"===c?"border-bottom border-dark":""},r.a.createElement(U.a.Link,{className:"checkout-link-active"},"Shipping")):r.a.createElement(U.a.Link,{disabled:!0},"Shipping")),r.a.createElement(U.a.Item,null,t?r.a.createElement(x.LinkContainer,{to:"/payment",className:"/payment"===c?"border-bottom border-dark":""},r.a.createElement(U.a.Link,{className:"checkout-link-active"},"Payment")):r.a.createElement(U.a.Link,{disabled:!0},"Payment")),r.a.createElement(U.a.Item,null,n?r.a.createElement(x.LinkContainer,{to:"/placeorder",className:"/placeorder"===c?"border-bottom border-dark":""},r.a.createElement(U.a.Link,{className:"checkout-link-active"},"Place Order")):r.a.createElement(U.a.Link,{disabled:!0},"Place Order"))),r.a.createElement(U.a.Item,null,r.a.createElement(x.LinkContainer,{to:"/cart"},r.a.createElement(U.a.Link,{className:"checkout-link-active"},r.a.createElement("i",{className:"fa-solid fa-angle-left"})," Back to cart"))))};var fa=function(){var e=Object(o.c)(function(e){return e.cart}),a=e.cartItems,t=e.shippingAddress,c=e.message,l=Object(o.c)(function(e){return e.userLogin}).userInfo,i=Object(n.useState)(t.name),s=Object(F.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(t.streetAddress),E=Object(F.a)(d,2),p=E[0],f=E[1],g=Object(n.useState)(t.aptAddress?t.aptAddress:""),v=Object(F.a)(g,2),b=v[0],y=v[1],h=Object(n.useState)(t.city),S=Object(F.a)(h,2),_=S[0],O=S[1],C=Object(n.useState)(t.state),I=Object(F.a)(C,2),R=I[0],T=I[1],j=Object(n.useState)(t.zip),L=Object(F.a)(j,2),A=L[0],k=L[1],D=Object(N.w)(),U=Object(o.b)();return Object(n.useEffect)(function(){0!==a.length&&l||D("/cart")},[]),r.a.createElement("div",null,c&&r.a.createElement(me,{variant:"primary"},c),r.a.createElement(pa,{step1:!0}),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8},r.a.createElement(Pe,{md:8},r.a.createElement("h2",null,"Shipping Address"),r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),U(ra({name:u,streetAddress:p,aptAddress:b,city:_,state:R,zip:A})),D("/payment")}},r.a.createElement(M.a.Group,{className:"my-2",controlid:"name"},r.a.createElement(M.a.Label,null,"Name"),r.a.createElement(M.a.Control,{type:"text",placeholder:"Your name",value:u||"",onChange:function(e){return m(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"street-address"},r.a.createElement(M.a.Label,null,"Address"),r.a.createElement(M.a.Control,{type:"text",placeholder:"Street address or P.O. Box",value:p||"",onChange:function(e){return f(e.target.value)},required:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"apt-address"},r.a.createElement(M.a.Control,{type:"text",placeholder:"Apt, suite, unit, building, floor, etc.",value:b||"",onChange:function(e){return y(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"city"},r.a.createElement(M.a.Label,null,"City"),r.a.createElement(M.a.Control,{type:"text",placeholder:"City",value:_||"",onChange:function(e){return O(e.target.value)},required:!0})),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:6,sm:12},r.a.createElement(M.a.Group,{className:"my-2",controlid:"state"},r.a.createElement(M.a.Label,null,"State"),r.a.createElement(M.a.Select,{"aria-label":"State",as:"select",onChange:function(e){return T(e.target.value)},required:!0},r.a.createElement("option",{key:0,value:""},"State"),Ea.map(function(e){return r.a.createElement("option",{key:e.name,value:e.abbreviation},e.name)})))),r.a.createElement(ne.a,{md:6,sm:12},r.a.createElement(M.a.Group,{className:"my-2",controlid:"city"},r.a.createElement(M.a.Label,null,"ZIP Code"),r.a.createElement(M.a.Control,{type:"text",value:A||"",onChange:function(e){return k(e.target.value)},required:!0})))),r.a.createElement("span",{className:"d-flex"},r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2 ms-auto"},"Proceed to Payment"))))),r.a.createElement(ne.a,{md:4},r.a.createElement(ma,{items:a}))))};var ga=function(){var e=Object(n.useState)(""),a=Object(F.a)(e,2),t=a[0],c=a[1],l=Object(o.c)(function(e){return e.cart}),i=l.cartItems,s=l.shippingAddress,u=l.shippingPrice,m=l.taxPrice,d=Object(o.c)(function(e){return e.userLogin}).userInfo,E=Object(N.w)(),p=Object(o.b)();return Object(n.useEffect)(function(){0!==i.length&&d||E("/cart"),s.streetAddress||E("/shipping"),p(la())},[]),r.a.createElement("div",null,r.a.createElement(pa,{step1:!0,step2:!0}),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8},r.a.createElement("h2",null,"Payment Methods"),r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),p(ca(t)),E("/placeorder")}},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Label,{as:"legend"},"Select Payment Method"),r.a.createElement(ne.a,null,r.a.createElement(M.a.Check,{type:"radio",label:"PayPal",id:"paypal",name:"paymentMethod",value:"PayPal",onChange:function(e){return c(e.target.value)}}),r.a.createElement(M.a.Check,{type:"radio",label:"Credit or Debit Card",id:"card",name:"paymentMethod",value:"Card",onChange:function(e){return c(e.target.value)}}))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2 ms-auto",disabled:!t&&!0},"Continue")))),r.a.createElement(ne.a,{md:4},r.a.createElement(ma,{items:i,shippingPrice:u,taxPrice:m}))))};var va=t(71);var ba=function(){var e=Object(o.c)(function(e){return e.orderCreate}),a=e.order,t=e.success,c=e.error,l=Object(o.c)(function(e){return e.orderCreateDemo}),i=l.order,s=l.success,u=(l.error,Object(o.c)(function(e){return e.orderPay})),m=u.loading,d=u.success,E=Object(o.c)(function(e){return e.orderPayCancel}),p=(E.loading,E.success,E.message,Object(o.c)(function(e){return e.cart})),f=p.cartItems,g=p.shippingAddress,v=p.paymentMethod,b=p.subtotalPrice,y=p.shippingPrice,_=p.taxPrice,O=p.totalPrice,C=Object(o.c)(function(e){return e.userLogin}).userInfo,I=Object(n.useState)(!1),R=Object(F.a)(I,2),T=R[0],j=R[1],L=Object(o.b)(),A=Object(N.w)();return Object(n.useEffect)(function(){0!==f.length&&g.streetAddress&&C||A("/cart"),v||A("/payment"),window.paypal?j(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AVOAq7MSKF4C3MOjpav8qqlDV7k0FBiTeW7hOvOa7WCXJUdjLAkwZslUaT9pcgwquy46tDE66CoXy76P",e.async=!0,e.onload=function(){j(!0)},document.body.appendChild(e)}(),t&&d&&(A("/orders/".concat(a._id)),L({type:h})),s&&L(Be(i._id,"success")),s&&d&&(A("/orders/".concat(i._id)),L({type:S}))},[t,s,d,A]),r.a.createElement("div",null,r.a.createElement(pa,{step1:!0,step2:!0,step3:!0}),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:8},r.a.createElement("h2",null,"Review Information"),r.a.createElement(Xe.a,{variant:"flush"},r.a.createElement(Xe.a.Item,null,r.a.createElement("h3",null,"Shipping"),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:2},r.a.createElement("strong",null,"Ship to:")),r.a.createElement(ne.a,{md:4,className:"d-flex"},r.a.createElement("div",{className:"ma-auto"},g.name," ",r.a.createElement("br",null),g.streetAddress,", ",r.a.createElement("br",null),g.aptAddress&&"".concat(g.aptAddress,",")," ",g.aptAddress&&r.a.createElement("br",null),g.city,", ",g.state," ",g.zip)),r.a.createElement(ne.a,{md:2},r.a.createElement("strong",null,"Shipping method:")),r.a.createElement(ne.a,{md:4,className:"d-flex"},r.a.createElement("div",{className:"ma-auto"},"Free Shipping (5 - 7 Business days)")))),r.a.createElement(Xe.a.Item,null,r.a.createElement("h3",null,"Payment"),r.a.createElement("div",null,r.a.createElement("strong",null,"Paymeny method:"),v)),r.a.createElement(Xe.a.Item,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",null,"In Your Cart"),r.a.createElement(k.Link,{className:"ms-auto mt-3",to:"/cart"},"Edit")),r.a.createElement(Xe.a,{variant:"flush"},f.map(function(e,a){return r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:1},r.a.createElement(ye.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(ne.a,{md:6},r.a.createElement(k.Link,{to:"/product/".concat(e.productId)},e.name)),r.a.createElement(ne.a,{md:3},"Quantity : ",e.qty),r.a.createElement(ne.a,{md:2,className:"d-flex"},r.a.createElement("div",{className:"ms-auto"},"$",(e.qty*e.price).toFixed(2)))))}))))),r.a.createElement(ne.a,{md:4},r.a.createElement(ma,{items:f,shippingPrice:y,taxPrice:_}),c&&r.a.createElement(me,{variant:"danger"},c),"PayPal"===v?r.a.createElement("div",null,m&&r.a.createElement(se,null),r.a.createElement(me,{variant:"danger"},"PayPal is sandbox mode. If you do not have a sandbox paypal account, click the button below to complete checkout."),r.a.createElement(G.a,{type:"button",onClick:function(){L(ze({orderItems:f,shippingAddress:g,paymentMethod:v,subtotalPrice:b,shippingPrice:y,taxPrice:_,totalPrice:O}))}},"Complete payment"),T?r.a.createElement(va.PayPalButton,{amount:O,onClick:function(){L(Ve({orderItems:f,shippingAddress:g,paymentMethod:v,subtotalPrice:b,shippingPrice:y,taxPrice:_,totalPrice:O}))},onCancel:function(){var e=JSON.parse(localStorage.getItem("currentOrder"))._id;console.log(e),L(Je(e))},onSuccess:function(e){L(Be(a._id,e))}}):r.a.createElement(se,null)):r.a.createElement(me,{variant:"danger"},"Sorry, we currently only accept PayPal payments"))))};var ya=function(){var e=Object(N.A)().id,a=Object(o.c)(function(e){return e.orderDetails}),t=a.order,c=a.loading,l=a.error,i=Object(o.c)(function(e){return e.orderPay}),s=i.loading,u=i.success,m=(i.error,Object(o.c)(function(e){return e.orderDeliver})),d=m.loading,E=m.success,p=(m.error,Object(o.c)(function(e){return e.userLogin}).userInfo);c||l||(t.subtotalPrice=t.orderItems.reduce(function(e,a){return e+a.price*a.qty},0).toFixed(2));var f=Object(o.b)(),g=Object(N.w)(),v=Object(n.useState)(!1),b=Object(F.a)(v,2),y=(b[0],b[1]);return Object(n.useEffect)(function(){p||g("/login?redirect=orders/".concat(e)),!t||u||E||t._id!==Number(e)?(f({type:_}),f({type:O}),f(Ye(e))):t.isPaid||(window.paypal?y(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AVOAq7MSKF4C3MOjpav8qqlDV7k0FBiTeW7hOvOa7WCXJUdjLAkwZslUaT9pcgwquy46tDE66CoXy76P",e.async=!0,e.onload=function(){y(!0)},document.body.appendChild(e)}())},[f,t,e,u,E]),c?r.a.createElement(se,null):l?r.a.createElement(me,{variant:"dark"},l):r.a.createElement("div",null,t?r.a.createElement(te.a,null,r.a.createElement("h2",null,"Order # ",t._id),r.a.createElement(ne.a,{md:8},r.a.createElement(Xe.a,{variant:"flush"},r.a.createElement(Xe.a.Item,null,r.a.createElement("h3",null,"Shipping"),r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:2},r.a.createElement("strong",null,"Ship to:")),r.a.createElement(ne.a,{md:4,className:"d-flex"},r.a.createElement("div",{className:"ma-auto"},t.shippingAddress.name," ",r.a.createElement("br",null),t.shippingAddress.street_address,", ",r.a.createElement("br",null),t.shippingAddress.apt_address&&"".concat(t.shippingAddress.apt_address,",")," ",t.shippingAddress.apt_address&&r.a.createElement("br",null),t.shippingAddress.city,", ",t.shippingAddress.state," ",t.shippingAddress.zip)),r.a.createElement(ne.a,{md:2},r.a.createElement("strong",null,"Shipping method:")),r.a.createElement(ne.a,{md:4,className:"d-flex"},r.a.createElement("div",{className:"ma-auto"},"Free Shipping (5 - 7 Business days)"))),r.a.createElement("div",{className:"m-2"},t.isDelivered?r.a.createElement(me,{variant:"success"},"Delivered on ",t.deliverd_date):r.a.createElement(me,{variant:"primary"},"Delivery in progress "))),r.a.createElement(Xe.a.Item,null,r.a.createElement("h3",null,"Payment"),r.a.createElement("div",null,r.a.createElement("strong",null,"Paymeny method:"),t.paymentMethod),r.a.createElement("div",{className:"m-2"},t.isPaid?r.a.createElement(me,{variant:"success"},"Transaction complete on ",t.paid_date):r.a.createElement(me,{variant:"warning"},"Transaction incomplete"))),r.a.createElement(Xe.a.Item,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",null,"Your Items")),r.a.createElement(Xe.a,{variant:"flush"},t.orderItems.map(function(e,a){return r.a.createElement(Xe.a.Item,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{md:1},r.a.createElement(ye.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(ne.a,{md:6},e.name),r.a.createElement(ne.a,{md:3},"Quantity : ",e.qty),r.a.createElement(ne.a,{md:2,className:"d-flex"},r.a.createElement("div",{className:"ms-auto"},"$",(e.qty*e.price).toFixed(2)))))}))))),r.a.createElement(ne.a,{md:4},r.a.createElement(ma,{items:t.orderItems,shippingPrice:t.shipping_price,taxPrice:t.tax_price}),!t.isPaid&&r.a.createElement("div",null,s&&r.a.createElement(se,null),r.a.createElement(me,{variant:"danger"},"PayPal is disabled on this demo. Click the button below to complete checkout."),r.a.createElement(G.a,{type:"button",onClick:function(a){f(Be(e,"success"))}},"Complete payment")),d&&r.a.createElement(se,null),p&&p.isAdmin&&t.isPaid&&!t.isDelivered&&r.a.createElement("div",{className:"d-grid gap-2 my-1"},r.a.createElement(G.a,{type:"button",size:"lg",variant:"primary",onClick:function(){f(We(t._id))}},"Mark as delivered")))):r.a.createElement(r.a.Fragment,null))};var ha=function(){var e=Object(o.c)(function(e){return e.userList}),a=e.users,t=e.loading,c=e.error,l=Object(o.c)(function(e){return e.userLogin}).userInfo,i=Object(o.c)(function(e){return e.userDelete}),s=i.success,u=i.error,m=i.message,d=Object(o.b)(),E=Object(N.w)();return Object(n.useEffect)(function(){l?(l.isAdmin||E("/"),d(X())):E("/login?redirect=admin/all-users")},[d,E,s]),r.a.createElement("div",null,r.a.createElement("h2",null,"Users"),c&&r.a.createElement(me,{variant:"danger"},c),u&&r.a.createElement(me,{variant:"danger",fade:!0},u),m&&r.a.createElement(me,{variant:"primary",fade:!0},m),t&&r.a.createElement(se,null),a&&r.a.createElement(Qe.a,{striped:!0,responsive:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,String(e._id).padStart(5,"0")),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.isAdmin?"Admin":"User"),r.a.createElement("td",null,r.a.createElement(x.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},r.a.createElement(G.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"})))),r.a.createElement("td",null,r.a.createElement(G.a,{variant:"danger",className:"btn-sm",onClick:function(){return a=e._id,t=e.username,void(window.confirm("Deleting user: ".concat(t))&&d(Z(a)));var a,t}},r.a.createElement("i",{className:"fas fa-trash"}))))}))))};var Sa=function(){var e=Object(N.A)().id,a=Object(n.useState)(""),t=Object(F.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),E=Object(F.a)(d,2),p=E[0],f=E[1],g=Object(o.b)(),b=Object(N.w)(),h=Object(o.c)(function(e){return e.userLogin}).userInfo,S=Object(o.c)(function(e){return e.userDetails}),_=S.user,O=S.loading,C=S.error,I=Object(o.c)(function(e){return e.userUpdate}),R=I.loading,T=I.error,j=I.success;return Object(n.useEffect)(function(){h?h.isAdmin?j?(g({type:y}),g({type:v}),b("/admin/all-users")):_&&_._id===Number(e)?(l(_.name),m(_.email),f(_.isAdmin)):g($(e)):b("/"):b("/login?redirect=admin/all-users")},[_,e,j]),r.a.createElement("div",null,r.a.createElement("section",{id:"bc",className:"my-3"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(k.Link,{to:"/admin/all-users"},"Go back")),r.a.createElement("li",{className:"breadcrumb-item active"},e," - ",_.username))))),r.a.createElement(Pe,{md:6},r.a.createElement("h2",null,"Edit User"),O&&r.a.createElement(se,null),T&&r.a.createElement(me,{variant:"danger",fade:!0},T),C?r.a.createElement(me,{variant:"danger"},C):r.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),g(ee({name:c,email:u,isAdmin:p},_._id))}},r.a.createElement(M.a.Group,{className:"my-2",controlid:"email"},r.a.createElement(M.a.Label,null,"Username / Email"),r.a.createElement(M.a.Control,{type:"email",value:u,plaintext:!0,readOnly:!0})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"name"},r.a.createElement(M.a.Label,null,"Name"),r.a.createElement(M.a.Control,{type:"name",placeholder:"Name",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement(M.a.Group,{className:"my-2",controlid:"isAdmin"},r.a.createElement(M.a.Check,{type:"checkbox",label:"Admin",checked:p,onChange:function(e){return f(e.target.checked)}})),R?r.a.createElement(se,null):r.a.createElement(G.a,{type:"submit",variant:"primary",className:"my-2"},"Update"))))};var _a=function(){var e=Object(o.c)(function(e){return e.orderList}),a=e.orders,t=e.loading,c=e.error,l=Object(o.c)(function(e){return e.userLogin}).userInfo,i=Object(o.b)(),s=Object(N.w)();return Object(n.useEffect)(function(){l?(l.isAdmin||s("/"),i($e())):s("/login?redirect=admin/all-orders")},[i,s]),r.a.createElement("div",null,r.a.createElement("h2",null,"Orders"),c&&r.a.createElement(me,{variant:"danger"},c),t&&r.a.createElement(se,null),a&&r.a.createElement(Qe.a,{striped:!0,responsive:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Total price"),r.a.createElement("th",null,"Paid"),r.a.createElement("th",null,"Delivered"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,String(e._id).padStart(5,"0")),r.a.createElement("td",null,e.user&&e.user.username),r.a.createElement("td",null,e.created_date.substr(0,10)),r.a.createElement("td",null,"$",e.total_price),r.a.createElement("td",null,e.isPaid?e.paid_date.substr(0,10):"No"),r.a.createElement("td",null,e.isDelivered?e.deliverd_date.substr(0,10):"No"),r.a.createElement("td",null,r.a.createElement(x.LinkContainer,{to:"/orders/".concat(e._id)},r.a.createElement(G.a,{variant:"primary",className:"btn-sm"},"Detail"))))}))))};var Oa=function(){return r.a.createElement(k.HashRouter,null,r.a.createElement(ae,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(A.a,null,r.a.createElement(N.g,null,r.a.createElement(N.e,{path:"/",element:r.a.createElement(Le,null),exact:!0}),r.a.createElement(N.e,{path:"/login",element:r.a.createElement(we,null)}),r.a.createElement(N.e,{path:"/logout",element:r.a.createElement(xe,null)}),r.a.createElement(N.e,{path:"/register",element:r.a.createElement(Me,null)}),r.a.createElement(N.e,{path:"/profile",element:r.a.createElement(qe,null)}),r.a.createElement(N.e,{path:"/profile/orders",element:r.a.createElement(Ke,null)}),r.a.createElement(N.e,{path:"/admin/all-users",element:r.a.createElement(ha,null)}),r.a.createElement(N.e,{path:"/admin/user/:id/edit",element:r.a.createElement(Sa,null)}),r.a.createElement(N.e,{path:"/admin/all-products",element:r.a.createElement(ia,null)}),r.a.createElement(N.e,{path:"/admin/product/:id/edit",element:r.a.createElement(sa,null)}),r.a.createElement(N.e,{path:"/admin/all-orders",element:r.a.createElement(_a,null)}),r.a.createElement(N.e,{path:"/product/:id",element:r.a.createElement(oa,null)}),r.a.createElement(N.e,{path:"/cart",element:r.a.createElement(da,null)}),r.a.createElement(N.e,{path:"/shipping",element:r.a.createElement(fa,null)}),r.a.createElement(N.e,{path:"/payment",element:r.a.createElement(ga,null)}),r.a.createElement(N.e,{path:"/placeorder",element:r.a.createElement(ba,null)}),r.a.createElement(N.e,{path:"/orders/:id",element:r.a.createElement(ya,null)})))),r.a.createElement(re,null))},Ca=function(e){e&&e instanceof Function&&t.e(1).then(t.bind(null,146)).then(function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,l=a.getTTFB;t(e),n(e),r(e),c(e),l(e)})};l.a.render(r.a.createElement(o.a,{store:L},r.a.createElement(Oa,null)),document.getElementById("root")),Ca()},87:function(e,a,t){e.exports=t(133)},95:function(e,a,t){},97:function(e,a,t){}},[[87,3,2]]]);
//# sourceMappingURL=main.d61287ea.chunk.js.map